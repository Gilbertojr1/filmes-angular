
<div class="container" *ngIf="filme$ | async as filmes; else loading">
  <mat-toolbar class="toolbar" color="accent">
    <!--<span>Filmes Dispon√≠veis</span>-->

    <div class="d-flex campo-pesquisa">
      <input
      class="form-control me-2"
      type="search"
      placeholder="Pesquisar Filmes"
      [formControl]="campoSearch"
      aria-label="Search">
    </div>

    <span class="spacer"></span>

    <div class="d-flex select-categoria">
      <select class="form-select" *ngIf="categoria$ | async as categorias" name="categoria">
        <option selected>Categoria</option>
        <option *ngFor="let categoria of categorias" [value]="categoria.nome"> {{categoria.nome}}</option>
      </select>

    </div>

  </mat-toolbar>

  <div class="d-flex flex-wrap justify-content-around">
    <div class="mb-4" *ngFor=" let filme of filmes | paginate: { itemsPerPage: 4, currentPage: p }" >
        <div class="card h-100 box">
            <div class="card-body" (click)="openDialog(filme)">
                <div class="poster">
                  <img src="https://i.pinimg.com/originals/a8/6c/28/a86c2875ddd59391b55112a24345c230.png">
                </div>
                <div class="titulo">
                  <h3 class="card-title">{{ filme.nome }}</h3>
                </div>
            </div>
        </div>
    </div>
  </div>
  <div class="pags">
    <pagination-controls
    (pageChange)="p = $event"
    [previousLabel]="labels.previousLabel"
    [nextLabel]="labels.nextLabel">
    </pagination-controls>
  </div>
</div>

<ng-template #loading>
  <div class="loading-spinner">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
